<!DOCTYPE html>
<html lang="my">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
  <meta name="description" content="Tonton Astro Ria secara langsung — saluran hiburan popular Malaysia dengan drama bersiri, realiti TV, telemovie & rancangan hiburan terbaik." />
  <meta name="keywords" content="astro ria live, tonton astro ria percuma, live astro ria malaysia, drama astro ria, realiti tv astro, gegar vaganza live, mega drama astro, astro ria hd streaming" />
  <meta name="author" content="TV Malaysia Live" />
  <title>Astro Ria Live | Tonton Drama & Realiti TV Percuma</title>

  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "BroadcastService",
    "name": "Astro Ria Live",
    "broadcastDisplayName": "Astro Ria Malaysia",
    "broadcastTimezone": "Asia/Kuala_Lumpur",
    "broadcaster": { "@type": "Organization", "name": "TV Malaysia Live", "url": "https://www.tvmalaysia.live" },
    "videoFormat": "HD",
    "broadcastFrequency": "PT24H"
  }
  </script>

  <script async src="https://www.googletagmanager.com/gtag/js?id=G-TLN0VD2V7C"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag("js", new Date());
    gtag("config", "G-TLN0VD2V7C", { anonymize_ip: true });
  </script>

  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3274439619257410" crossorigin="anonymous"></script>
  <link rel="icon" href="https://www.tvmalaysia.live/favicon.ico" type="image/x-icon" />

  <meta property="og:title" content="Astro Ria Live | Tonton Drama & Realiti TV Percuma" />
  <meta property="og:description" content="Live streaming Astro Ria HD. Saksikan drama, telemovie, rancangan realiti & hiburan terbaik dari Malaysia secara langsung dan percuma." />
  <meta property="og:image" content="https://www.tvmalaysia.live/images/astro-ria-live-streaming-online.webp" />
  <meta property="og:url" content="https://www.tvmalaysia.live/channel/ria" />
  <meta name="twitter:card" content="summary_large_image" />

  <script src="https://cdnjs.cloudflare.com/ajax/libs/shaka-player/4.1.1/shaka-player.ui.min.js" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/shaka-player/4.1.1/controls.min.css" crossorigin="anonymous" />

  <style>
    html, body {
      margin: 0;
      padding: 0;
      background: #ffffff; /* Putih background luar */
      height: auto;
    }
    #stream {
      width: 100%;
      height: 680px;
      background: #000; /* Hitam player saja */
    }
    video {
      width: 100%;
      height: 100%;
    }
  </style>
</head>

<body>
<center>
<ins class="adsbygoogle" style="display: block;" data-ad-client="ca-pub-3274439619257410" data-ad-slot="7682342688" data-ad-format="auto" data-full-width-responsive="true"></ins>
<script>(adsbygoogle = window.adsbygoogle || []).push({});</script>

<div id="stream">
  <div data-shaka-player-container style="width:100%; height:100%;">
    <video autoplay playsinline controls data-shaka-player></video>
  </div>
</div>

<br />
<ins class="adsbygoogle" style="display: block;" data-ad-client="ca-pub-3274439619257410" data-ad-slot="7682342688" data-ad-format="auto" data-full-width-responsive="true"></ins>
<script>(adsbygoogle = window.adsbygoogle || []).push({});</script>

<script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=6631b8f57464820019156342&product=sop" async="async"></script>
<div class="sharethis-inline-share-buttons" aria-label="Kongsi siaran ini"></div>

<h1>Astro Ria Live Streaming Malaysia</h1>
<div class="separator" style="clear: both;">
  <a href="#" style="display: block; padding: 1em 0; text-align: center;">
    <img src="https://www.tvmalaysia.live/images/astro-ria-live-streaming-online.webp" alt="Tonton Astro Ria Percuma" width="50" loading="lazy" />
  </a>
</div>
</center>

<center>
  <div id="channel-list" aria-live="polite">Loading channel list...</div>
</center>

<script defer>
fetch("https://api.npoint.io/42ec6ec5b5c92e25f36f?t=" + new Date().getTime(), { cache: "force-cache" })
  .then(res => res.json())
  .then(data => {
    document.getElementById("channel-list").innerHTML = data.html;
  })
  .catch(err => {
    console.error("Gagal load senarai channel:", err);
    document.getElementById("channel-list").innerText = "Gagal memuatkan saluran.";
  });
</script>

<script defer src="/js/anti_copy.js"></script>
<script>
(function(s,u,z,p){s.src=u;s.setAttribute('data-zone',z);p.appendChild(s);})(document.createElement('script'),"https://jouwaikekaivep.net/tag.min.js",7337458,document.body||document.documentElement);
</script>

<!-- Shaka Player Secure Fetch Token -->
<script>
async function initPlayer() {
  const video = document.querySelector('video');
  const ui = video['ui'];
  const controls = ui.getControls();
  const player = controls.getPlayer();

  // Configure ClearKey
  player.configure({
    drm: {
      clearKeys: {
        "c15541e4dde34c48a0d144a4b0ab7194": "ce82e3d81126183e5a262e320f6348b3",
        "d5249cb40505495494828f42c37087cb": "d59f6a7bed00bd5348355ab5b3ee6aa0"
      }
    }
  });

  let authToken = '';
  try {
    const response = await fetch('https://cuuka.tvmalaysia.live/token', {
      headers: {
        'x-secret': 'kepalabutuhsooka69' // SECRET HEADER sama dengan server.js kau
      }
    });
    const data = await response.json();
    authToken = data.token;
  } catch (e) {
    console.error('❌ Error fetching token:', e);
  }

  player.getNetworkingEngine().registerRequestFilter((type, request) => {
    if (authToken && (type === shaka.net.NetworkingEngine.RequestType.SEGMENT || type === shaka.net.NetworkingEngine.RequestType.MANIFEST)) {
      request.headers['authorization'] = authToken;
    }
  });

  try {
    await player.load('https://l16.dp.sooka.my/1004/linear/index.mpd');
    console.log('✅ Stream loaded successfully!');
  } catch (e) {
    console.error('❌ Error loading stream:', e);
  }
}

document.addEventListener('shaka-ui-loaded', initPlayer);
</script>

<br />
<center>
  <font color="#9900FF">
    <b>
      <a href="https://www.tvmalaysia.live/p/about-us">About Us</a> /
      <a href="https://www.tvmalaysia.live/p/contact-us">Contact Us</a> /
      <a href="https://www.tvmalaysia.live/p/tos">TOS</a> /
      <a href="https://www.tvmalaysia.live/p/dmca">DMCA</a> /
      <a href="https://www.tvmalaysia.live/p/privacy-policy">Privacy Policy</a> /
      <a href="https://www.tvmalaysia.live/p/disclaimer">Disclaimer</a>
    </b>
  </font>
  <p>&copy; <span id="year"></span> TV Malaysia Live</p>
</center>
<script>document.getElementById("year").textContent = new Date().getFullYear();</script>
<script integrity="sha384-jnZyxPjiipYXnSU0ygqeac2q7CVYMbh84q0uHVRRxEtvFPiQYbXWUorga2aqZJ0z" src="https://instant.page/5.2.0" type="module"></script>

</body>
</html>